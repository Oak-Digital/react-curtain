{"version":3,"file":"CurtainContext.stories-3b76c20f.js","sources":["../../src/stories/CurtainContext/context.tsx","../../src/stories/CurtainContext/index.tsx"],"sourcesContent":["import { createContext, ReactNode, useCallback, useContext, useState } from 'react';\n\nexport interface CurtainContextValue {\n    counter: number;\n    incrementCounter: () => void;\n}\n\nexport const CurtainContext = createContext<CurtainContextValue>({} as CurtainContextValue);\n\nexport const useCurtainContext = () => {\n    const context = useContext(CurtainContext);\n    return context;\n};\n\nexport const CurtainContextProvider = ({ children }: { children: ReactNode }) => {\n    const [counter, setCounter] = useState(0);\n    const incrementCounter = useCallback(() => {\n        setCounter((prev) => prev + 1);\n    }, []);\n\n    const value: CurtainContextValue = {\n        counter,\n        incrementCounter,\n    };\n\n    return <CurtainContext.Provider value={value}>{children}</CurtainContext.Provider>;\n};\n","import { FC, ReactNode, useCallback, useState } from 'react';\nimport { Curtain } from '../../components';\nimport { CurtainContext, CurtainContextProvider, useCurtainContext } from './context';\n\nexport interface CurtainContextComponentProps {\n    withChildrenWrapper?: boolean;\n}\n\nexport const CurtainContextComponent = ({ withChildrenWrapper = true }: CurtainContextComponentProps) => {\n    return (\n        <CurtainContextProvider>\n            <CurtainContextComponentInner withChildrenWrapper={withChildrenWrapper} />\n        </CurtainContextProvider>\n    );\n};\n\nexport const CurtainContextComponentInner = ({ withChildrenWrapper }: CurtainContextComponentProps) => {\n    const { counter, incrementCounter } = useCurtainContext();\n    const [visible, setVisible] = useState(false);\n    const onClick = async () => {\n        setVisible(true);\n\n        await new Promise((resolve) => setTimeout(resolve, 1000));\n\n        setVisible(false);\n    };\n    const wrapperFunction = useCallback(\n        (c: ReactNode) => (\n            <CurtainContext.Provider\n                value={{\n                    counter,\n                    incrementCounter,\n                }}\n            >\n                {c}\n            </CurtainContext.Provider>\n        ),\n        [counter, incrementCounter]\n    );\n    return (\n        <div>\n            <Curtain visible={visible} childrenWrapper={withChildrenWrapper ? wrapperFunction : undefined}>\n                <div style={{ textAlign: 'right' }}>\n                    <Button onClick={onClick} />\n                </div>\n            </Curtain>\n        </div>\n    );\n};\n\ntype ButtonProps = {\n    onClick: () => void;\n};\n\nconst Button: FC<ButtonProps> = ({ onClick }) => {\n    const { counter, incrementCounter } = useCurtainContext();\n    const internalOnClick = () => {\n        incrementCounter();\n        onClick();\n    };\n    return <button onClick={internalOnClick}>Clicked: {counter}</button>;\n};\n"],"names":["CurtainContext","createContext","useCurtainContext","useContext","CurtainContextProvider","children","counter","setCounter","useState","incrementCounter","useCallback","prev","value","jsx","CurtainContextComponent","withChildrenWrapper","CurtainContextComponentInner","visible","setVisible","onClick","resolve","wrapperFunction","c","Curtain","Button","internalOnClick","jsxs"],"mappings":"gIAOO,MAAAA,EAAAC,EAAAA,cAAA,CAAA,CAAA,EAEAC,EAAA,IACHC,aAAAH,CAAA,EAIGI,EAAA,CAAA,CAAA,SAAAC,KAAA,CACH,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,CAAA,EACAC,EAAAC,EAAAA,YAAA,IAAA,CACIH,EAAAI,GAAAA,EAAA,CAAA,CAA6B,EAAA,CAAA,CAAA,EAGjCC,EAAA,CAAmC,QAAAN,EAC/B,iBAAAG,CACA,EAGJ,OAAAI,EAAAA,IAAAb,EAAA,SAAA,CAAA,MAAAY,EAAA,SAAAP,CAAA,CAAA,CACJ,kIClBO,MAAAS,EAAA,CAAA,CAAA,oBAAAC,EAAA,MACHF,EAAA,IAAAT,EAAA,CAAA,SAAAS,EAAAA,IAAAG,EAAA,CAAA,oBAAAD,EAAA,CAAA,CAAA,EAOGC,EAAA,CAAA,CAAA,oBAAAD,KAAA,CACH,KAAA,CAAA,QAAAT,EAAA,iBAAAG,CAAA,EAAAP,EAAA,EACA,CAAAe,EAAAC,CAAA,EAAAV,EAAA,SAAA,EAAA,EACAW,EAAA,SAAA,CACID,EAAA,EAAA,EAEA,MAAA,IAAA,QAAAE,GAAA,WAAAA,EAAA,GAAA,CAAA,EAEAF,EAAA,EAAA,CAAgB,EAEpBG,EAAAX,EAAA,YAAwBY,GAAAT,EAAA,IAEhBb,EAAA,SAAgB,CAAf,MAAA,CACU,QAAAM,EACH,iBAAAG,CACA,EACJ,SAAAa,CAEC,CAAA,EACL,CAAAhB,EAAAG,CAAA,CAEsB,EAE9B,OAAAI,EAAA,IAAA,MAAA,CAAA,SAAAA,EAAA,IAAAU,EAAA,CAAA,QAAAN,EAAA,gBAAAF,EAAAM,EAAA,OAAA,SAAAR,EAAAA,IAAA,MAAA,CAAA,MAAA,CAAA,UAAA,OAAA,EAAA,SAAAA,EAAAA,IAAAW,EAAA,CAAA,QAAAL,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CASJ,EAMAK,EAAA,CAAA,CAAA,QAAAL,KAAA,CACI,KAAA,CAAA,QAAAb,EAAA,iBAAAG,CAAA,EAAAP,EAAA,EACAuB,EAAA,IAAA,CACIhB,IACAU,GAAQ,EAEZ,OAAAO,EAAA,KAAA,SAAA,CAAA,QAAAD,EAAA,SAAA,CAAyC,YAAAnB,CAAU,CAAA,CAAA,CACvD;;"}